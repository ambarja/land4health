---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# land4health: Remote Sensing Metrics for Spatial Health Analysis <img src="man/figures/logo.png" align="right" hspace="10" vspace="0" width="15%">

<!-- badges: start -->

[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![R-CMD-check](https://github.com/harmonize-tools/land4health/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/harmonize-tools/land4health/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

Calculate and extract remote sensing metrics for spatial health analysis üõ∞Ô∏è.
This package offers R users a quick and easy way to obtain areal or zonal statistics of key indicators and covariates, ideal for modeling infectious diseases ü¶† within the framework of spatial epidemiology üè•.

## Installation

You can install the development version of land4health from [GitHub](https://github.com/) with:

```r
# install.packages("pak")
pak::pak("harmonize-tools/land4health")
```
```{r}
library(land4health)
```

## List available metrics and metadata

```{r}
get_metrics_metadata()
```

## View summary of available indicators

```{r}
get_metrics_summary()
```


## Example: Calculate Forest Loss in a Custom Region

This example demonstrates how to calculate forest loss between 2005 and 2010 using a custom polygon and Earth Engine.

```{r message=FALSE, warning=FALSE}
library(land4health)
library(rgee)
library(sf)
ee_Initialize(quiet = TRUE)
```

```{r example}
region <- st_as_sf(st_sfc(
  st_polygon(list(matrix(c(
    -74.1, -4.4,
    -74.1, -3.7,
    -73.2, -3.7,
    -73.2, -4.4,
    -74.1, -4.4
  ), ncol = 2, byrow = TRUE))),
  crs = 4326
))

# Run forest loss calculation
result <- calculate_forest_loss(from = 2005, to = 2010, region = region)
result
```

